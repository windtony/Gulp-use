<!DOCTYPE html>
<html>
	<head>
		<title>首页</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta http-equiv="window-target" content="_top" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="HandheldFriendly" content="true" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta content="black" name="apple-mobile-web-app-status-bar-style" />
		<meta content="telephone=no" name="format-detection" />
		<meta content="email=no" name="format-detection" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/radio.css">
		<script src="js/jquery-1.11.0.min.js"></script>
		<script src="js/icheck.min.js"></script>
		<script type="text/javascript" src="js/angular.min.js"></script>
	</head>

	<body ng-app="pay">
		<header class="tac">
			<h3 class="mt10">确认订单</h3>
		</header>
		<section class="wrapper wrap grid" ng-controller="content" ng-cloak>
			<section ng-repeat="item in items">
				<h3 class="m10">{{item.phone}}</h3>
				<ul>
					<li class="wrap grid p10 b1">
						<span class="dib fl">商品单价:</span>
						<span class="dib fr">{{item.price}}元</span>
					</li>
					<li class="wrap grid p10 b1">
						<span class="dib fl">商品数量:</span>
						<ul class="number dib fr">
							<li>
								<img ng-src="img/{{item.delete}}" class="w30 vam" ng-click="deleteOne(item)" />
							</li>
							<li>
								<span class="w50 tac mlr5">{{item.count}}</span>
							</li>
							<li>
								<img ng-src="img/{{item.plus}}" class="w30 vam" ng-click="item.count = item.count + 1" />
							</li>
							<!--ng-init="count=2"-->
						</ul>
					</li>
					<li class="wrap grid p10 b1">
						<span class="dib fl">商品总价:</span>
						<span class="dib fr"><b class="red">{{item.price*item.count}}</b>元</span>
					</li>
				</ul>
			</section>
			<p>总价:￥{{totalCart()}}</p>
		</section>

		<script>
			(function(angular) {
				'use strict';
				var app = angular.module('pay', [])
				app.controller('content', function($scope) {
					$scope.items = [{
						phone: "华为ASCEND P7",
						price: "2000",
						delete: "delete.png",
						plus: "plus.png",
						count: 1
					}, {
						phone: "Iphone 6 plus",
						price: "5543",
						delete: "delete.png",
						plus: "plus.png",
						count: 1
					}];
					$scope.deleteOne = function(item) {
						if (item.count >= 1) {
							item.count--;
						}
					}

					$scope.totalCart = function() {
			        var total = 0;
			          total = total + $scope.items[0].price * $scope.items[0].count + $scope.items[1].price * $scope.items[1].count;
			        
			        return total;
			      };

				});
			})(window.angular);
		</script>
	</body>

</html>